<!DOCTYPE html>
<!--[if IE 9]><html lang="en-us" class="ie9 layout-pf-alt layout-pf-alt-fixed layout-pf-alt-fixed-inner-scroll"><![endif]-->
<!--[if gt IE 9]><!-->
<head>
<title>Route Planner</title>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- PatternFly Styles -->
<!-- Note: No other CSS files are needed regardless of what other JS packages located in patternfly/components that you decide to pull in -->
<link rel="stylesheet" href="bower_components/patternfly/dist/css/patternfly.min.css" />
<link rel="stylesheet" href="bower_components/patternfly/dist/css/patternfly-additions.min.css" />
<!-- jQuery -->
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap JS -->
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- C3, D3 - Charting Libraries -->
<script src="bower_components/c3/c3.min.js"></script>
<script src="bower_components/d3/d3.min.js"></script>
<!-- Datatables, jQuery Grid Component -->
<!-- Note: jquery.dataTables.js must occur in the html source before patternfly*.js.-->
<script src="bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
<script src="bower_components/datatables-colvis/js/dataTables.colVis.js"></script>
<script src="bower_components/datatables-colreorder/js/dataTables.colReorder.js"></script>
<!-- PatternFly Custom Componets -  Sidebar, Popovers and Datatables Customizations -->
<!-- Note: jquery.dataTables.js must occur in the html source before patternfly*.js.-->
<script src="bower_components/patternfly/dist/js/patternfly.min.js"></script>
<!-- Bootstrap Combobox -->
<script src="bower_components/bootstrap-combobox/js/bootstrap-combobox.js"></script>
<!-- Bootstrap Date Picker -->
<script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<!-- Bootstrap Select -->
<script src="bower_components/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
<!-- Bootstrap Switch -->
<script src="bower_components/bootstrap-switch/dist/js/bootstrap-switch.min.js"></script>
<!-- Bootstrap Touchspin -->
<script src="bower_components/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.js"></script>
<!-- Bootstrap Tree View -->
<script src="bower_components/bootstrap-treeview/dist/bootstrap-treeview.min.js"></script>
<!-- Google Code Prettify - Syntax highlighting of code snippets -->
<script src="bower_components/google-code-prettify/bin/prettify.min.js"></script>
<!-- MatchHeight - Used to make sure dashboard cards are the same height -->
<script src="bower_components/matchHeight/jquery.matchHeight-min.js"></script>
<style type="text/css">
html, body {
	height: 100%;
	margin: 0;
	padding: 0;
}

#map {
	height: 100%;
}
</style>
</head>
<html lang="en-us" class="layout-pf-alt layout-pf-alt-fixed layout-pf-alt-fixed-inner-scroll">
<!--<![endif]-->
<head>
<title>Visualizer</title>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="../dist/img/favicon.ico">
<!-- iPad retina icon -->
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../dist/img/apple-touch-icon-precomposed-152.png">
<!-- iPad retina icon (iOS < 7) -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../dist/img/apple-touch-icon-precomposed-144.png">
<!-- iPad non-retina icon -->
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="../dist/img/apple-touch-icon-precomposed-76.png">
<!-- iPad non-retina icon (iOS < 7) -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../dist/img/apple-touch-icon-precomposed-72.png">
<!-- iPhone 6 Plus icon -->
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../dist/img/apple-touch-icon-precomposed-180.png">
<!-- iPhone retina icon (iOS < 7) -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../dist/img/apple-touch-icon-precomposed-114.png">
<!-- iPhone non-retina icon (iOS < 7) -->
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../dist/img/apple-touch-icon-precomposed-57.png">
<link rel="stylesheet" href="../dist/css/patternfly.min.css">
<link rel="stylesheet" href="../dist/css/patternfly-additions.min.css">
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery.matchHeight/0.6.0/jquery.matchHeight-min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.0/d3.min.js"></script>
<script src="../dist/js/patternfly.min.js"></script>
</head>
  <body class="cards-pf">
    <nav class="navbar navbar-pf-alt">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a href="/trkr" class="navbar-brand">
      <img class="navbar-brand-icon" src="images/TRKRlogo.svg" alt=""/>
    </a>
  </div>
  <nav class="collapse navbar-collapse">
    <ul class="nav navbar-nav navbar-right navbar-iconic">
      <li class="dropdown">
        <div class="dropdown-menu infotip bottom-right">
          <div class="arrow"></div>
          <ul class="list-group">
            <li class="list-group-item">
              <span class="i pficon pficon-info"></span> Modified Datasources ExampleDS
            </li>
            <li class="list-group-item">
              <span class="i pficon pficon-info"></span> Error: System Failure
            </li>
          </ul>
          <div class="footer">
            <a>Clear Messages</a>
          </div>
        </div>
      </li>
                <li class="dropdown"><a class="dropdown-toggle nav-item-iconic" id="dropdownMenu1" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="true"
                > <span title="Help" class="fa pficon-help"></span> <span class="caret"></span>
                </a>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                        <li><a href="#">Help</a></li>
                        <li><a href="#">About</a></li>
                    </ul></li>
                <li class="dropdown"><a class="dropdown-toggle nav-item-iconic" id="dropdownMenu2" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="true"
                > <span title="Username" class="fa pficon-user"></span> <span class="caret"></span>
                </a>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <li><a href="#">Preferences</a></li>
                        <li><a href="#">Logout</a></li>
                    </ul></li>
            </ul>
        </nav>
    </nav>
    <!--/.navbar-->
    <nav class="nav-pf-vertical-alt">
        <ul class="list-group">
            <li class="list-group-item"><a href="index.html"> <span class="fa fa-file-text-o"
                    title="Route Planner" data-toggle="tooltip" data-placement="right"
                ></span> <span class="list-group-item-value">Route Planner</span>
            </a></li>
            <li class="list-group-item active"><a href="#"> <span class="fa fa-area-chart" title="Visualizer"
                    data-toggle="tooltip" data-placement="right"
                ></span> <span class="list-group-item-value">Visualizer</span>
            </a></li>
        </ul>
        <div class="cards-pf">
          <div class="container-fluid container-cards-pf">
           <div class="row row-cards-pf">
            <h4>LEGEND</h4>
            <ul class="nav">
              <li>
                <img src="images/newflag.png"> New Trail
              </li>
              <li>
                <img src="images/plannedflag.png"> Planned Trail
              </li>
              <li>
                <img src="images/doneflag.png"> Completed Trail
            </ul>
          </div>
        </div>
      </div>
</nav>


    <!-- Map -->
    <div id="map"></div>
    <script type="text/javascript">

    var locations;
    var map;

    $.getJSON('/trkr/rest/locations', function(data) {
        locations = data
        fillMap(map);
    });


function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    center: {lat: 56.453851, lng: -3.992057},
    zoom: 11
  });
}

function fillMap(map){

  var doneflag = {
          url: 'images/doneflag.png',
          // This marker is 20 pixels wide by 32 pixels high.
          size: new google.maps.Size(20, 32),
          // The origin for this image is (0, 0).
          origin: new google.maps.Point(0, 0),
          // The anchor for this image is the base of the flagpole at (0, 32).
          anchor: new google.maps.Point(0, 32)
        };
  var plannedflag = {
          url: 'images/plannedflag.png',
          // This marker is 20 pixels wide by 32 pixels high.
          size: new google.maps.Size(20, 32),
          // The origin for this image is (0, 0).
          origin: new google.maps.Point(0, 0),
          // The anchor for this image is the base of the flagpole at (0, 32).
          anchor: new google.maps.Point(0, 32)
        };
  var newflag = {
          url: 'images/newflag.png',
          // This marker is 20 pixels wide by 32 pixels high.
          size: new google.maps.Size(20, 32),
          // The origin for this image is (0, 0).
          origin: new google.maps.Point(0, 0),
          // The anchor for this image is the base of the flagpole at (0, 32).
          anchor: new google.maps.Point(0, 32)
        };

  var flags = [newflag, plannedflag, doneflag];

  for (var i = 0; i < locations.length; i++) {
      var location = locations[i];
      var flag = flags[Math.floor(Math.random() * 3)];
      var marker = new google.maps.Marker({
        position: {lat: location['gpsLatitute'], lng: location['gpsLongitude']},
        map: map,
        icon: flag,
      });
    }
                 
}
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC95r5J2h-cyvGLM1okgLn00BVRLWLmZsA&callback=initMap"
    >
    </script>
</body>
</html>